

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tabular data &mdash; PyCogent 1.5.3 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.5.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PyCogent 1.5.3 documentation" href="../index.html" />
    <link rel="up" title="Manipulating biological data" href="manipulating_biological_data.html" />
    <link rel="next" title="Structural data" href="structural_data.html" />
    <link rel="prev" title="Managing Trees" href="managing_trees.html" />     
<script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAAbW_pA971hrPgosv-Msv7hRQZ4X-jPDmWcshBrz2j7-fJvuUABRTGWmdiw2G89JpgztGlFGG8hDxRAw"></script>\
<script type="text/javascript" src="../_static/google_feed.js"></script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="structural_data.html" title="Structural data"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="managing_trees.html" title="Managing Trees"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">PyCogent 1.5.3 documentation</a> &raquo;</li>
          <li><a href="index.html" >PyCogent Cookbook</a> &raquo;</li>
          <li><a href="manipulating_biological_data.html" accesskey="U">Manipulating biological data</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tabular-data">
<h1>Tabular data<a class="headerlink" href="#tabular-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="loading-delimited-formats">
<h2>Loading delimited formats<a class="headerlink" href="#loading-delimited-formats" title="Permalink to this headline">¶</a></h2>
<p>We load a comma separated data file using the generic <tt class="docutils literal"><span class="pre">LoadTable</span></tt> function.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">cogent</span> <span class="kn">import</span> <span class="n">LoadTable</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span>
<span class="go">====================================</span>
<span class="go">    Locus    Region            Ratio</span>
<span class="go">------------------------------------</span>
<span class="go">NP_003077       Con           2.5386</span>
<span class="go">NP_004893       Con      121351.4264</span>
<span class="go">NP_005079       Con     9516594.9789</span>
<span class="go">NP_005500    NonCon           0.0000</span>
<span class="go">NP_055852    NonCon    10933217.7090</span>
<span class="go">------------------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="reading-large-files">
<h2>Reading large files<a class="headerlink" href="#reading-large-files" title="Permalink to this headline">¶</a></h2>
<p>For really large files the automated conversion used by the standard read mechanism can be quite slow. If the data within a column is consistently of one type, set the <tt class="docutils literal"><span class="pre">LoadTable</span></tt> argument <tt class="docutils literal"><span class="pre">static_column_types=True</span></tt>. This causes the <tt class="docutils literal"><span class="pre">Table</span></tt> object to create a custom reader.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">static_column_types</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span>
<span class="go">====================================</span>
<span class="go">    Locus    Region            Ratio</span>
<span class="go">------------------------------------</span>
<span class="go">NP_003077       Con           2.5386</span>
<span class="go">NP_004893       Con      121351.4264</span>
<span class="go">NP_005079       Con     9516594.9789</span>
<span class="go">NP_005500    NonCon           0.0000</span>
<span class="go">NP_055852    NonCon    10933217.7090</span>
<span class="go">------------------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="formatting">
<h2>Formatting<a class="headerlink" href="#formatting" title="Permalink to this headline">¶</a></h2>
<div class="section" id="changing-displayed-numerical-precision">
<h3>Changing displayed numerical precision<a class="headerlink" href="#changing-displayed-numerical-precision" title="Permalink to this headline">¶</a></h3>
<p>We change the <tt class="docutils literal"><span class="pre">Ratio</span></tt> column to using scientific notation.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">setColumnFormat</span><span class="p">(</span><span class="s">&#39;Ratio&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%.1e</span><span class="s">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span>
<span class="go">==============================</span>
<span class="go">    Locus    Region      Ratio</span>
<span class="go">------------------------------</span>
<span class="go">NP_003077       Con    2.5e+00</span>
<span class="go">NP_004893       Con    1.2e+05</span>
<span class="go">NP_005079       Con    9.5e+06</span>
<span class="go">NP_005500    NonCon    7.4e-08</span>
<span class="go">NP_055852    NonCon    1.1e+07</span>
<span class="go">------------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="change-digits-or-column-spacing">
<h3>Change digits or column spacing<a class="headerlink" href="#change-digits-or-column-spacing" title="Permalink to this headline">¶</a></h3>
<p>This can be done on table loading,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">space</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span>
<span class="go">=============================</span>
<span class="go">    Locus  Region       Ratio</span>
<span class="go">-----------------------------</span>
<span class="go">NP_003077     Con         2.5</span>
<span class="go">NP_004893     Con    121351.4</span>
<span class="go">NP_005079     Con   9516595.0</span>
<span class="go">NP_005500  NonCon         0.0</span>
<span class="go">NP_055852  NonCon  10933217.7</span>
<span class="go">-----------------------------</span>
</pre></div>
</div>
<p>or, for spacing at least, by modifying the attributes</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">Space</span> <span class="o">=</span> <span class="s">&#39;    &#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span>
<span class="go">=================================</span>
<span class="go">    Locus    Region         Ratio</span>
<span class="go">---------------------------------</span>
<span class="go">NP_003077       Con           2.5</span>
<span class="go">NP_004893       Con      121351.4</span>
<span class="go">NP_005079       Con     9516595.0</span>
<span class="go">NP_005500    NonCon           0.0</span>
<span class="go">NP_055852    NonCon    10933217.7</span>
<span class="go">---------------------------------</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="changing-column-headings">
<h2>Changing column headings<a class="headerlink" href="#changing-column-headings" title="Permalink to this headline">¶</a></h2>
<p>The table <tt class="docutils literal"><span class="pre">Header</span></tt> is immutable. Changing column headings is done as follows.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span><span class="o">.</span><span class="n">Header</span>
<span class="go">[&#39;Locus&#39;, &#39;Region&#39;, &#39;Ratio&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">withNewHeader</span><span class="p">(</span><span class="s">&#39;Ratio&#39;</span><span class="p">,</span> <span class="s">&#39;Stat&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span><span class="o">.</span><span class="n">Header</span>
<span class="go">[&#39;Locus&#39;, &#39;Region&#39;, &#39;Stat&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-new-columns-from-existing-ones">
<h2>Creating new columns from existing ones<a class="headerlink" href="#creating-new-columns-from-existing-ones" title="Permalink to this headline">¶</a></h2>
<p>This can be used to take a single, or multiple columns and generate a new column of values. Here we&#8217;ll take 2 columns and return True/False based on a condition.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">withNewColumn</span><span class="p">(</span><span class="s">&#39;LargeCon&#39;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="k">lambda</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">v</span><span class="p">):</span> <span class="n">r</span> <span class="o">==</span> <span class="s">&#39;Con&#39;</span> <span class="ow">and</span> <span class="n">v</span><span class="o">&gt;</span><span class="mf">10.0</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;Region&#39;</span><span class="p">,</span> <span class="s">&#39;Ratio&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span>
<span class="go">================================================</span>
<span class="go">    Locus    Region            Ratio    LargeCon</span>
<span class="go">------------------------------------------------</span>
<span class="go">NP_003077       Con           2.5386       False</span>
<span class="go">NP_004893       Con      121351.4264        True</span>
<span class="go">NP_005079       Con     9516594.9789        True</span>
<span class="go">NP_005500    NonCon           0.0000       False</span>
<span class="go">NP_055852    NonCon    10933217.7090       False</span>
<span class="go">------------------------------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="appending-tables">
<h2>Appending tables<a class="headerlink" href="#appending-tables" title="Permalink to this headline">¶</a></h2>
<p>Can be done without specifying a new column. Here we simply use the same table data.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table1</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table2</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">table1</span><span class="o">.</span><span class="n">appended</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">table2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span>
<span class="go">====================================</span>
<span class="go">    Locus    Region            Ratio</span>
<span class="go">------------------------------------</span>
<span class="go">NP_003077       Con           2.5386</span>
<span class="go">NP_004893       Con      121351.4264</span>
<span class="go">NP_005079       Con     9516594.9789</span>
<span class="go">NP_005500    NonCon           0.0000</span>
<span class="go">NP_055852    NonCon    10933217.7090</span>
<span class="go">NP_003077       Con           2.5386</span>
<span class="go">NP_004893       Con      121351.4264</span>
<span class="go">NP_005079       Con     9516594.9789</span>
<span class="go">NP_005500    NonCon           0.0000</span>
<span class="go">NP_055852    NonCon    10933217.7090</span>
<span class="go">------------------------------------</span>
</pre></div>
</div>
<p>or with a new column</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table1</span><span class="o">.</span><span class="n">Title</span> <span class="o">=</span> <span class="s">&#39;Data1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table2</span><span class="o">.</span><span class="n">Title</span> <span class="o">=</span> <span class="s">&#39;Data2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">table1</span><span class="o">.</span><span class="n">appended</span><span class="p">(</span><span class="s">&#39;Data#&#39;</span><span class="p">,</span> <span class="n">table2</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span>
<span class="go">=============================================</span>
<span class="go">Data#        Locus    Region            Ratio</span>
<span class="go">---------------------------------------------</span>
<span class="go">Data1    NP_003077       Con           2.5386</span>
<span class="go">Data1    NP_004893       Con      121351.4264</span>
<span class="go">Data1    NP_005079       Con     9516594.9789</span>
<span class="go">Data1    NP_005500    NonCon           0.0000</span>
<span class="go">Data1    NP_055852    NonCon    10933217.7090</span>
<span class="go">Data2    NP_003077       Con           2.5386</span>
<span class="go">Data2    NP_004893       Con      121351.4264</span>
<span class="go">Data2    NP_005079       Con     9516594.9789</span>
<span class="go">Data2    NP_005500    NonCon           0.0000</span>
<span class="go">Data2    NP_055852    NonCon    10933217.7090</span>
<span class="go">---------------------------------------------</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We assigned an empty string to <tt class="docutils literal"><span class="pre">title</span></tt>, otherwise the resulting table has the same <tt class="docutils literal"><span class="pre">Title</span></tt> attribute as that of <tt class="docutils literal"><span class="pre">table1</span></tt>.</p>
</div>
</div>
<div class="section" id="summing-a-single-column">
<h2>Summing a single column<a class="headerlink" href="#summing-a-single-column" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">summed</span><span class="p">(</span><span class="s">&#39;Ratio&#39;</span><span class="p">)</span>
<span class="go">20571166.652847398</span>
</pre></div>
</div>
</div>
<div class="section" id="summing-multiple-columns-or-rows-strictly-numerical-data">
<h2>Summing multiple columns or rows - strictly numerical data<a class="headerlink" href="#summing-multiple-columns-or-rows-strictly-numerical-data" title="Permalink to this headline">¶</a></h2>
<p>We define a strictly numerical table,</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">all_numeric</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">],</span> <span class="n">rows</span><span class="o">=</span><span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
<span class="gp">... </span>                                <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">12</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">all_numeric</span>
<span class="go">=============</span>
<span class="go">A     B     C</span>
<span class="go">-------------</span>
<span class="go">0     1     2</span>
<span class="go">3     4     5</span>
<span class="go">6     7     8</span>
<span class="go">9    10    11</span>
<span class="go">-------------</span>
</pre></div>
</div>
<p>and sum all columns (default condition)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">all_numeric</span><span class="o">.</span><span class="n">summed</span><span class="p">()</span>
<span class="go">[18, 22, 26]</span>
</pre></div>
</div>
<p>and all rows</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">all_numeric</span><span class="o">.</span><span class="n">summed</span><span class="p">(</span><span class="n">col_sum</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[3, 12, 21, 30]</span>
</pre></div>
</div>
</div>
<div class="section" id="summing-multiple-columns-or-rows-with-mixed-non-numeric-numeric-data">
<h2>Summing multiple columns or rows with mixed non-numeric/numeric data<a class="headerlink" href="#summing-multiple-columns-or-rows-with-mixed-non-numeric-numeric-data" title="Permalink to this headline">¶</a></h2>
<p>We define a table with mixed data, like a distance matrix.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mixed</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;A&#39;</span><span class="p">,</span> <span class="s">&#39;B&#39;</span><span class="p">,</span> <span class="s">&#39;C&#39;</span><span class="p">],</span> <span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="s">&#39;*&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="s">&#39;*&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="gp">... </span>                                                <span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="s">&#39;*&#39;</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">mixed</span>
<span class="go">===========</span>
<span class="go">A    B    C</span>
<span class="go">-----------</span>
<span class="go">*    1    2</span>
<span class="go">3    *    5</span>
<span class="go">6    7    *</span>
<span class="go">-----------</span>
</pre></div>
</div>
<p>and sum all columns (default condition), ignoring non-numerical data</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mixed</span><span class="o">.</span><span class="n">summed</span><span class="p">(</span><span class="n">strict</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[9, 8, 7]</span>
</pre></div>
</div>
<p>and all rows</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">mixed</span><span class="o">.</span><span class="n">summed</span><span class="p">(</span><span class="n">col_sum</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[3, 8, 13]</span>
</pre></div>
</div>
</div>
<div class="section" id="filtering-table-rows">
<h2>Filtering table rows<a class="headerlink" href="#filtering-table-rows" title="Permalink to this headline">¶</a></h2>
<p>We can do this by providing a reference to an external function</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sub_table</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">filtered</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">10.0</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s">&#39;Ratio&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">sub_table</span>
<span class="go">=============================</span>
<span class="go">    Locus    Region     Ratio</span>
<span class="go">-----------------------------</span>
<span class="go">NP_003077       Con    2.5386</span>
<span class="go">NP_005500    NonCon    0.0000</span>
<span class="go">-----------------------------</span>
</pre></div>
</div>
<p>or using valid python syntax within a string, which is executed</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sub_table</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">filtered</span><span class="p">(</span><span class="s">&quot;Ratio &lt; 10.0&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">sub_table</span>
<span class="go">=============================</span>
<span class="go">    Locus    Region     Ratio</span>
<span class="go">-----------------------------</span>
<span class="go">NP_003077       Con    2.5386</span>
<span class="go">NP_005500    NonCon    0.0000</span>
<span class="go">-----------------------------</span>
</pre></div>
</div>
<p>You can also filter for values in multiple columns</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">sub_table</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">filtered</span><span class="p">(</span><span class="s">&quot;Ratio &lt; 10.0 and Region == &#39;NonCon&#39;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">sub_table</span>
<span class="go">=============================</span>
<span class="go">    Locus    Region     Ratio</span>
<span class="go">-----------------------------</span>
<span class="go">NP_005500    NonCon    0.0000</span>
<span class="go">-----------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="filtering-table-columns">
<h2>Filtering table columns<a class="headerlink" href="#filtering-table-columns" title="Permalink to this headline">¶</a></h2>
<p>We select only columns that have a sum &gt; 20 from the <tt class="docutils literal"><span class="pre">all_numeric</span></tt> table constructed above.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">big_numeric</span> <span class="o">=</span> <span class="n">all_numeric</span><span class="o">.</span><span class="n">filteredByColumn</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">big_numeric</span>
<span class="go">========</span>
<span class="go"> B     C</span>
<span class="go">--------</span>
<span class="go"> 1     2</span>
<span class="go"> 4     5</span>
<span class="go"> 7     8</span>
<span class="go">10    11</span>
<span class="go">--------</span>
</pre></div>
</div>
</div>
<div class="section" id="sorting">
<h2>Sorting<a class="headerlink" href="#sorting" title="Permalink to this headline">¶</a></h2>
<div class="section" id="standard-sorting">
<h3>Standard sorting<a class="headerlink" href="#standard-sorting" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span><span class="o">.</span><span class="n">sorted</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s">&#39;Ratio&#39;</span><span class="p">)</span>
<span class="go">====================================</span>
<span class="go">    Locus    Region            Ratio</span>
<span class="go">------------------------------------</span>
<span class="go">NP_005500    NonCon           0.0000</span>
<span class="go">NP_003077       Con           2.5386</span>
<span class="go">NP_004893       Con      121351.4264</span>
<span class="go">NP_005079       Con     9516594.9789</span>
<span class="go">NP_055852    NonCon    10933217.7090</span>
<span class="go">------------------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="reverse-sorting">
<h3>Reverse sorting<a class="headerlink" href="#reverse-sorting" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span><span class="o">.</span><span class="n">sorted</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s">&#39;Ratio&#39;</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="s">&#39;Ratio&#39;</span><span class="p">)</span>
<span class="go">====================================</span>
<span class="go">    Locus    Region            Ratio</span>
<span class="go">------------------------------------</span>
<span class="go">NP_055852    NonCon    10933217.7090</span>
<span class="go">NP_005079       Con     9516594.9789</span>
<span class="go">NP_004893       Con      121351.4264</span>
<span class="go">NP_003077       Con           2.5386</span>
<span class="go">NP_005500    NonCon           0.0000</span>
<span class="go">------------------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="sorting-involving-multiple-columns-one-reversed">
<h3>Sorting involving multiple columns, one reversed<a class="headerlink" href="#sorting-involving-multiple-columns-one-reversed" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span><span class="o">.</span><span class="n">sorted</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;Region&#39;</span><span class="p">,</span> <span class="s">&#39;Ratio&#39;</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="s">&#39;Ratio&#39;</span><span class="p">)</span>
<span class="go">====================================</span>
<span class="go">    Locus    Region            Ratio</span>
<span class="go">------------------------------------</span>
<span class="go">NP_005079       Con     9516594.9789</span>
<span class="go">NP_004893       Con      121351.4264</span>
<span class="go">NP_003077       Con           2.5386</span>
<span class="go">NP_055852    NonCon    10933217.7090</span>
<span class="go">NP_005500    NonCon           0.0000</span>
<span class="go">------------------------------------</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getting-raw-data">
<h2>Getting raw data<a class="headerlink" href="#getting-raw-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="for-a-single-column">
<h3>For a single column<a class="headerlink" href="#for-a-single-column" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">raw</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">getRawData</span><span class="p">(</span><span class="s">&#39;Region&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">raw</span>
<span class="go">[&#39;Con&#39;, &#39;Con&#39;, &#39;Con&#39;, &#39;NonCon&#39;, &#39;NonCon&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="for-multiple-columns">
<h3>For multiple columns<a class="headerlink" href="#for-multiple-columns" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">raw</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">getRawData</span><span class="p">([</span><span class="s">&#39;Locus&#39;</span><span class="p">,</span> <span class="s">&#39;Region&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">raw</span>
<span class="go">[[&#39;NP_003077&#39;, &#39;Con&#39;], [&#39;NP_004893&#39;, &#39;Con&#39;], ...</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="iterating-over-table-rows">
<h2>Iterating over table rows<a class="headerlink" href="#iterating-over-table-rows" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">table</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">row</span><span class="p">[</span><span class="s">&#39;Locus&#39;</span><span class="p">]</span>
<span class="gp">...</span>
<span class="go">NP_003077</span>
<span class="go">NP_004893</span>
<span class="go">NP_005079</span>
<span class="go">NP_005500</span>
<span class="go">NP_055852</span>
</pre></div>
</div>
</div>
<div class="section" id="table-slicing">
<h2>Table slicing<a class="headerlink" href="#table-slicing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="using-column-names">
<h3>Using column names<a class="headerlink" href="#using-column-names" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span><span class="p">[:</span><span class="mi">2</span><span class="p">,</span> <span class="p">:</span><span class="s">&#39;Region&#39;</span><span class="p">]</span>
<span class="go">=========</span>
<span class="go">    Locus</span>
<span class="go">---------</span>
<span class="go">NP_003077</span>
<span class="go">NP_004893</span>
<span class="go">---------</span>
</pre></div>
</div>
</div>
<div class="section" id="using-column-indices">
<h3>Using column indices<a class="headerlink" href="#using-column-indices" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span><span class="p">[:</span><span class="mi">2</span><span class="p">,:</span> <span class="mi">1</span><span class="p">]</span>
<span class="go">=========</span>
<span class="go">    Locus</span>
<span class="go">---------</span>
<span class="go">NP_003077</span>
<span class="go">NP_004893</span>
<span class="go">---------</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="sql-like-capabilities">
<h2>SQL-like capabilities<a class="headerlink" href="#sql-like-capabilities" title="Permalink to this headline">¶</a></h2>
<div class="section" id="distinct-values">
<h3>Distinct values<a class="headerlink" href="#distinct-values" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">table</span><span class="o">.</span><span class="n">getDistinctValues</span><span class="p">(</span><span class="s">&#39;Region&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="nb">set</span><span class="p">([</span><span class="s">&#39;NonCon&#39;</span><span class="p">,</span> <span class="s">&#39;Con&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="counting">
<h3>Counting<a class="headerlink" href="#counting" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">table</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&quot;Region == &#39;NonCon&#39; and Ratio &gt; 1&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="joining-tables">
<h3>Joining tables<a class="headerlink" href="#joining-tables" title="Permalink to this headline">¶</a></h3>
<p>SQL-like join operations requires tables have different <tt class="docutils literal"><span class="pre">Title</span></tt> attributes which are not <tt class="docutils literal"><span class="pre">None</span></tt>. We do a standard inner join here for a restricted subset. We must specify the columns that will be used for the join. Here we just use <tt class="docutils literal"><span class="pre">Locus</span></tt> but multiple columns can be used, and their names can be different between the tables. Note that the second table&#8217;s title becomes a part of the column names.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">rows</span> <span class="o">=</span> <span class="p">[[</span><span class="s">&#39;NP_004893&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;NP_005079&#39;</span><span class="p">,</span> <span class="bp">True</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;NP_005500&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;NP_055852&#39;</span><span class="p">,</span> <span class="bp">False</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">region_type</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;Locus&#39;</span><span class="p">,</span> <span class="s">&#39;LargeCon&#39;</span><span class="p">],</span> <span class="n">rows</span><span class="o">=</span><span class="n">rows</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">title</span><span class="o">=</span><span class="s">&#39;RegionClass&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats_table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s">&#39;Stats&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new</span> <span class="o">=</span> <span class="n">stats_table</span><span class="o">.</span><span class="n">joined</span><span class="p">(</span><span class="n">region_type</span><span class="p">,</span> <span class="n">columns_self</span><span class="o">=</span><span class="s">&#39;Locus&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">new</span>
<span class="go">============================================================</span>
<span class="go">    Locus    Region            Ratio    RegionClass_LargeCon</span>
<span class="go">------------------------------------------------------------</span>
<span class="go">NP_004893       Con      121351.4264                    True</span>
<span class="go">NP_005079       Con     9516594.9789                    True</span>
<span class="go">NP_005500    NonCon           0.0000                   False</span>
<span class="go">NP_055852    NonCon    10933217.7090                   False</span>
<span class="go">------------------------------------------------------------</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="exporting">
<h2>Exporting<a class="headerlink" href="#exporting" title="Permalink to this headline">¶</a></h2>
<div class="section" id="writing-delimited-formats">
<h3>Writing delimited formats<a class="headerlink" href="#writing-delimited-formats" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span><span class="o">.</span><span class="n">writeToFile</span><span class="p">(</span><span class="s">&#39;stats_tab.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="writing-latex-format">
<h3>Writing latex format<a class="headerlink" href="#writing-latex-format" title="Permalink to this headline">¶</a></h3>
<p>It is also possible to specify column alignment, table caption and other arguments.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="s">&#39;stats.txt&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s">&#39;,&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">table</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">format</span><span class="o">=</span><span class="s">&#39;latex&#39;</span><span class="p">)</span>
<span class="go">\begin{longtable}[htp!]{ r r r }</span>
<span class="go">\hline</span>
<span class="go">\bf{Locus} &amp; \bf{Region} &amp; \bf{Ratio} \\</span>
<span class="go">\hline</span>
<span class="go">\hline</span>
<span class="go">NP_003077 &amp;    Con &amp;        2.5386 \\</span>
<span class="go">NP_004893 &amp;    Con &amp;   121351.4264 \\</span>
<span class="go">NP_005079 &amp;    Con &amp;  9516594.9789 \\</span>
<span class="go">NP_005500 &amp; NonCon &amp;        0.0000 \\</span>
<span class="go">NP_055852 &amp; NonCon &amp; 10933217.7090 \\</span>
<span class="go">\hline</span>
<span class="go">\end{longtable}</span>
</pre></div>
</div>
</div>
<div class="section" id="writing-bedgraph-format">
<h3>Writing bedGraph format<a class="headerlink" href="#writing-bedgraph-format" title="Permalink to this headline">¶</a></h3>
<p>This format allows display of annotation tracks on genome browsers.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">rows</span> <span class="o">=</span> <span class="p">[[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">101</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">102</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">103</span><span class="p">,</span> <span class="mi">104</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">104</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">105</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">106</span><span class="p">,</span> <span class="mi">107</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">107</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mf">1.123</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">109</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">110</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">113</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">113</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">115</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">116</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">117</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">121</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">151</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">151</span><span class="p">,</span> <span class="mi">152</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">152</span><span class="p">,</span> <span class="mi">153</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">153</span><span class="p">,</span> <span class="mi">154</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">154</span><span class="p">,</span> <span class="mi">155</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">155</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">157</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">158</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">159</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="mi">160</span><span class="p">,</span> <span class="mi">161</span><span class="p">,</span> <span class="mi">2</span><span class="p">]]</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bgraph</span> <span class="o">=</span> <span class="n">LoadTable</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;chrom&#39;</span><span class="p">,</span> <span class="s">&#39;start&#39;</span><span class="p">,</span> <span class="s">&#39;end&#39;</span><span class="p">,</span> <span class="s">&#39;value&#39;</span><span class="p">],</span>
<span class="gp">... </span>                  <span class="n">rows</span><span class="o">=</span><span class="n">rows</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bgraph</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">format</span><span class="o">=</span><span class="s">&#39;bedgraph&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;test track&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">description</span><span class="o">=</span><span class="s">&#39;test of bedgraph&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span> 
<span class="go">track type=bedGraph name=&quot;test track&quot; description=&quot;test of bedgraph&quot; color=255,0,0</span>
<span class="go">1   100     108     1.12</span>
<span class="go">1   108     118     1.0</span>
<span class="go">1   118     161     2.0</span>

<span class="go">The bedgraph formatter defaults to rounding values to 2 decimal places. You can adjust that precision using the ``digits`` argument.</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">bgraph</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="n">format</span><span class="o">=</span><span class="s">&#39;bedgraph&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;test track&#39;</span><span class="p">,</span>
<span class="gp">... </span>  <span class="n">description</span><span class="o">=</span><span class="s">&#39;test of bedgraph&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">digits</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> 
<span class="go">track type=bedGraph name=&quot;test track&quot; description=&quot;test of bedgraph&quot; color=255,0,0</span>
<span class="go">1   100     118     1.0</span>
<span class="go">1   118     161     2.0</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div class="news">
<table id="feed"><tr><td><h3><a href="http://pycogent.wordpress.com/">PyCogent News and Announcements</a></h3></td>
</tr></table></div>

    
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tabular data</a><ul>
<li><a class="reference internal" href="#loading-delimited-formats">Loading delimited formats</a></li>
<li><a class="reference internal" href="#reading-large-files">Reading large files</a></li>
<li><a class="reference internal" href="#formatting">Formatting</a><ul>
<li><a class="reference internal" href="#changing-displayed-numerical-precision">Changing displayed numerical precision</a></li>
<li><a class="reference internal" href="#change-digits-or-column-spacing">Change digits or column spacing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#changing-column-headings">Changing column headings</a></li>
<li><a class="reference internal" href="#creating-new-columns-from-existing-ones">Creating new columns from existing ones</a></li>
<li><a class="reference internal" href="#appending-tables">Appending tables</a></li>
<li><a class="reference internal" href="#summing-a-single-column">Summing a single column</a></li>
<li><a class="reference internal" href="#summing-multiple-columns-or-rows-strictly-numerical-data">Summing multiple columns or rows - strictly numerical data</a></li>
<li><a class="reference internal" href="#summing-multiple-columns-or-rows-with-mixed-non-numeric-numeric-data">Summing multiple columns or rows with mixed non-numeric/numeric data</a></li>
<li><a class="reference internal" href="#filtering-table-rows">Filtering table rows</a></li>
<li><a class="reference internal" href="#filtering-table-columns">Filtering table columns</a></li>
<li><a class="reference internal" href="#sorting">Sorting</a><ul>
<li><a class="reference internal" href="#standard-sorting">Standard sorting</a></li>
<li><a class="reference internal" href="#reverse-sorting">Reverse sorting</a></li>
<li><a class="reference internal" href="#sorting-involving-multiple-columns-one-reversed">Sorting involving multiple columns, one reversed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getting-raw-data">Getting raw data</a><ul>
<li><a class="reference internal" href="#for-a-single-column">For a single column</a></li>
<li><a class="reference internal" href="#for-multiple-columns">For multiple columns</a></li>
</ul>
</li>
<li><a class="reference internal" href="#iterating-over-table-rows">Iterating over table rows</a></li>
<li><a class="reference internal" href="#table-slicing">Table slicing</a><ul>
<li><a class="reference internal" href="#using-column-names">Using column names</a></li>
<li><a class="reference internal" href="#using-column-indices">Using column indices</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sql-like-capabilities">SQL-like capabilities</a><ul>
<li><a class="reference internal" href="#distinct-values">Distinct values</a></li>
<li><a class="reference internal" href="#counting">Counting</a></li>
<li><a class="reference internal" href="#joining-tables">Joining tables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exporting">Exporting</a><ul>
<li><a class="reference internal" href="#writing-delimited-formats">Writing delimited formats</a></li>
<li><a class="reference internal" href="#writing-latex-format">Writing latex format</a></li>
<li><a class="reference internal" href="#writing-bedgraph-format">Writing bedGraph format</a></li>
</ul>
</li>
</ul>
</li>
</ul>



  <h4>Previous topic</h4>
  <p class="topless"><a href="managing_trees.html"
                        title="previous chapter">Managing Trees</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="structural_data.html"
                        title="next chapter">Structural data</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/cookbook/tables.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="structural_data.html" title="Structural data"
             >next</a> |</li>
        <li class="right" >
          <a href="managing_trees.html" title="Managing Trees"
             >previous</a> |</li>
        <li><a href="../index.html">PyCogent 1.5.3 documentation</a> &raquo;</li>
          <li><a href="index.html" >PyCogent Cookbook</a> &raquo;</li>
          <li><a href="manipulating_biological_data.html" >Manipulating biological data</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009, PyCogent Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>